!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.kelbas={})}(this,function(e){"use strict";const t=()=>{let e=()=>(65536*(1+Math.random())|0).toString(16).substring(1);return"p"+(e()+e())+"-"+e()};class n{constructor(e,...t){this.values_map=[],this.string=this.concat_string(e,t)}concat_string(e,n){return e.map((e,r)=>{const s=n[r],o=t();return"function"==typeof s&&(e=e.concat(`"${o} `),this.values_map.push({id:o,value:s})),"string"==typeof s&&(e=`${e}${s||""}`),e}).reduce((e,t)=>e+t)}get fragment(){const e=document.createElement("template");return e.innerHTML=this.string,this.add_event_listeners(e.content.cloneNode(!0))}get container(){let e=(new DOMParser).parseFromString(this.string,"text/html");return this.add_event_listeners(e.body.firstChild)}get svg(){let e=new DOMParser;const t=this.container;return t.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.parseFromString(t.outerHTML,"image/svg+xml").documentElement}add_event_listeners(e){return this.values_map.forEach(t=>{const n=e.outerHTML?e.parentNode.querySelector(`[${t.id}]`):e.querySelector(`[${t.id}]`),r=/(on)\w+/g.exec(n.outerHTML)[0].split("on")[1];n.removeAttribute(`on${r}`),n.addEventListener(r,t.value)}),e}}function r(e,...t){return new n(e,...t)}window.HTML=r,e.HTML=r,Object.defineProperty(e,"__esModule",{value:!0})});
